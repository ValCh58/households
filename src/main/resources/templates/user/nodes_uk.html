<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8"/>
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <title>Объекты УК</title>
    
    <link th:rel="stylesheet" th:href="@{/assets/jquery-treetable/jquery.treetable.css}"/>
    <link th:rel="stylesheet" th:href="@{/assets/jquery-treetable/jquery.treetable.theme.default.css}"/>
    <link th:rel="stylesheet" th:href="@{/css/input_img.css}"/>
        
    <link th:rel="stylesheet" th:href="@{/webjars/bootstrap/css/bootstrap.min.css} "/>
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.15.1/css/all.css">
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.15.1/css/v4-shims.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/css/bootstrap.min.css" integrity="sha384-TX8t27EcRE3e/ihU7zmQxVncDAy5uIKz4rEkgIXeMed4M0jlfIDPvg6uqKI2xXr2" crossorigin="anonymous"/>
        
</head>
<body onload="offLoader()" style="background: url(/images/textures.jpeg);">

	<div class="form-row mt-2 ml-1 mr-1">
		<div class="form-group col-md-7">
			<h4 style="text-align: right;">Объекты конфигурации УК</h4>
	    </div>
		<div class="form-group col-md-1">
			<a th:href="@{/user/home_user}" class="btn btn-primary btn-sm">Выход</a>
		</div>
		<div class="form-row form-group col-md-4">
		<p>
		    <input type="text" class="form-control" style="width: 230px;" id="finder" placeholder="Поиск по наименованию&nbsp">
		    <i onclick="cleanFinder();" class='fa fa-times-rectangle-o' style='color: gray;'></i>
		</p>    
		    
		</div>
	</div>

<!---------------------------- Modal form from edit UK ---------------------------------------------------->
<div th:insert="~{fragments/modal_edit_uk :: modal_edit_uk}"></div>

<!---------------------------- Modal form from edit Street ------------------------------------------------>
<div th:insert="~{fragments/modal_edit_street :: modal_edit_street}"></div>

<!---------------------------- Modal form from edit Home -------------------------------------------------->
<div th:insert="~{fragments/modal_edit_home :: modal_edit_home}"></div>

<!---------------------------- Modal form from edit Flat -------------------------------------------------->
<div th:insert="~{fragments/modal_edit_flat :: modal_edit_flat}"></div>

<!---------------------------- Modal form from edit Account ----------------------------------------------->
<div th:insert="~{fragments/modal_edit_act :: modal_edit_act}"></div>

<!----------------------------------Модальное окно Warning del Object-------------------------------------->
<div th:insert="~{fragments/modal_warning_del_obj_uk :: warning_del_obj_uk}"></div>

<!-----------------------------------Table tree------------------------------------------------------------>
<div th:insert="~{fragments/table_tree_object_uk :: tree_object_uk}"></div>
<a href="javascript:scroll(0,0)" style="top: 50%;left: 15px;position: fixed; z-index: 101;"><i class="fas fa-arrow-alt-circle-up"></i></a>

<!------------------------------------Scripts-------------------------------------------------------------->
<div th:insert="~{fragments/script_tree_table_uk :: script_tree_table_uk}"></div>

<script type="text/javascript">

/**
 * Clearing the search field
 */
function cleanFinder(){	$("#finder").val(''); }

/**
 * Поиск по таблице объектов *
 */
$(document).ready(function(){
    $("#finder").keyup(function(){
    	$('#treeTable tr').each(function(){
			var array_row = [];
			$(this).find('td').each(function(){
				array_row.push($(this).text());
			});
			var y = array_row[1];
			if($("#finder").val() == y){
			   //console.log($(this).index() + ' --- ' + y );
			   var td = $($(this));
			   var pos = td.offset();
			   //console.log(pos);
			   $(window).scrollTop(pos.top);
			}
		});
      });
    });

</script>
</body>
</html>

